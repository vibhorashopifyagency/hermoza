{%- liquid
  assign blog_bg = section.settings.blog_bg
  assign blog_bg_gradient = section.settings.blog_bg_gradient
  assign blog_bg_image = section.settings.blog_bg_image
-%}

<style>
  .map-section {
    padding-top: {{ section.settings.mg_top_desktop | append: 'px' }};
    padding-bottom: {{ section.settings.mg_bottom_desktop | append: 'px' }};
    {% if blog_bg_image != blank %}
      background: url({{ blog_bg_image | img_url: '1920x' }});
      background-repeat: no-repeat;
      background-size: cover;
      background-position: center;
      background-color: transparent;
    {% else %}
      background: {% if blog_bg_gradient != blank %}{{ blog_bg_gradient }}{% else %}{{ blog_bg }}{% endif %};
    {% endif %}
  }
  .map-ifream iframe {
      display: block;
      width: 100%;
      height: 500px;
  }

  @media (max-width: 1199px) {
    .map-section {
      padding-top: {{ section.settings.mg_top_tablet | append: 'px' }};
      padding-bottom: {{ section.settings.mg_bottom_tablet | append: 'px' }};
    }
    .map-ifream iframe {
        height: 350px;
    }
  }
  @media (max-width: 767px) {
    .map-section {
      padding-top: {{ section.settings.mg_top_mobile | append: 'px' }};
      padding-bottom: {{ section.settings.mg_bottom_mobile | append: 'px' }};
    }
    .map-ifream iframe {
        height: 300px;
    }
  }
</style>

<div class="map-section">
  <div class="{% if section.settings.container == 'fullwidth' %}container-full{% else %}container{% endif %}">
    <div class="map-ifream">
      <div class="{% if section.settings.image_behavior != 'none' %} animate--{{ section.settings.image_behavior }} animate-hidden{% endif %}">
        <div class="animate-ambient-image">
          {{ section.settings.block_content }}
        </div>
      </div>
    </div>
  </div>
</div>

{% schema %}
	{
		"name": "t:sections.custom_map.name",
		"settings": [
          {
            "type": "header",
            "content": "t:sections.layout.content"
          },
          {
              "type": "select",
              "id": "container",
              "label": "t:sections.layout.container.option",
              "default": "container",
              "options": [
                  {
                      "value": "container",
                      "label": "t:sections.layout.container.option1"
                  },
                  {
                      "value": "fullwidth",
                      "label": "t:sections.layout.container.option2"
                  }
              ]
          },
          {
            "type" : "color",
            "id" : "blog_bg",
            "label" : "t:settings_schema.colors.settings.colors_name.background_color",
            "default" : "#fff"
          },
          {
              "type" : "color_background",
              "id" : "blog_bg_gradient",
              "label" : "t:settings_schema.colors.settings.colors_name.background_color_gradient"
          },
          {
              "type" : "image_picker",
              "id" : "blog_bg_image",
              "label" : "t:settings_schema.colors.settings.colors_name.background_image"
          },
          {
              "type": "header",
              "content": "t:sections.layout.margin_top"
          },
          {
              "type": "range",
              "id": "mg_top_desktop",
              "label": "t:sections.layout.mg_desktop.label",
              "min": 0,
              "max": 100,
              "step": 5,
              "unit": "t:sections.layout.mg_desktop.unit",
              "default": 50
          },
          {
              "type": "range",
              "id": "mg_top_tablet",
              "label": "t:sections.layout.mg_tablet.label",
              "min": 0,
              "max": 100,
              "step": 5,
              "unit": "t:sections.layout.mg_desktop.unit",
              "default": 40
          },
          {
              "type": "range",
              "id": "mg_top_mobile",
              "label": "t:sections.layout.mg_mobile.label",
              "min": 0,
              "max": 100,
              "step": 5,
              "unit": "t:sections.layout.mg_desktop.unit",
              "default": 25
          },
          {
              "type": "header",
              "content": "t:sections.layout.margin_bottom"
          },
          {
              "type": "range",
              "id": "mg_bottom_desktop",
              "label": "t:sections.layout.mg_desktop.label",
              "min": 0,
              "max": 100,
              "step": 5,
              "unit": "t:sections.layout.mg_desktop.unit",
              "default": 50
          },
          {
              "type": "range",
              "id": "mg_bottom_tablet",
              "label": "t:sections.layout.mg_tablet.label",
              "min": 0,
              "max": 100,
              "step": 5,
              "unit": "t:sections.layout.mg_desktop.unit",
              "default": 40
          },
          {
              "type": "range",
              "id": "mg_bottom_mobile",
              "label": "t:sections.layout.mg_mobile.label",
              "min": 0,
              "max": 100,
              "step": 5,
              "unit": "t:sections.layout.mg_desktop.unit",
              "default": 25
          },
          {
              "type": "header",
              "content": "t:sections.custom_map.settings.header__1"
          },
          {
              "type": "html",
              "id": "block_content",
              "label": "t:sections.custom_map.settings.map_iframe",
              "default": "<iframe src='https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d1866360.8233470228!2d-104.18198755095995!3d39.80102763649541!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x54eab584e432360b%3A0x1c3bb99243deb742!2sUnited%20States!5e0!3m2!1sen!2sin!4v1707898792779!5m2!1sen!2sin' width='600' height='450' style='border:0;'' allowfullscreen='' loading='lazy' referrerpolicy='no-referrer-when-downgrade'></iframe>"
          },
          {
            "type": "header",
            "content": "t:sections.main-product.settings.general.animation"
          },
          {
            "type": "select",
            "id": "image_behavior",
            "options": [
              {
                "value": "none",
                "label": "t:settings_schema.typography.settings.text_transform.options__1"
              },
              {
                "value": "ambient",
                "label": "t:sections.main-product.settings.general.image_behavior.option__1"
              },
              {
                "value": "zoom-in",
                "label": "t:sections.main-product.settings.general.image_behavior.option__3"
              }
            ],
            "default": "none",
            "label": "t:sections.main-product.settings.general.image_behavior.label"
          }
		],
        "presets": [
            {
                "name": "t:sections.custom_map.name"
            }
        ]
	}
{% endschema %}